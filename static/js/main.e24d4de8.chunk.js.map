{"version":3,"sources":["hooks/useWindowSize.js","Header.js","Nav.js","Footer.js","Post.js","Feed.js","Home.js","NewPost.js","PostPage.js","EditPost.js","About.js","Missing.js","hooks/useAxiosFetch.js","App.js","api/posts.js","store.js","index.js"],"names":["useWindowSize","useState","width","undefined","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","Header","title","className","Nav","posts","useStoreState","state","search","setSearch","useStoreActions","actions","setSearchResults","filteredResults","filter","post","body","toLowerCase","includes","reverse","onSubmit","e","preventDefault","htmlFor","id","type","placeholder","value","onChange","target","to","Footer","postCount","Post","datetime","length","slice","Feed","map","Home","isLoading","fetchError","searchResults","style","color","NewPost","history","useHistory","postTitle","postBody","savePost","setPostTitle","setPostBody","format","Date","push","required","PostPage","useParams","deletePost","getPostById","onClick","handleDelete","EditPost","editTitle","editBody","editPost","setEditTitle","setEditBody","handleEdit","About","marginTop","Missing","useAxiosFetch","dataUrl","data","setData","setFetchError","setIsLoading","isMounted","source","axios","CancelToken","url","a","get","cancelToken","token","response","message","fetchData","cancel","App","setPosts","exact","path","component","create","baseURL","createStore","action","payload","computed","find","toString","thunk","newPost","helpers","getState","api","console","log","delete","updatedPost","put","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.e24d4de8.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst useWindowSize = () => {\n    const [windowSize, setWindowSize] = useState({\n        width: undefined,\n        height: undefined\n    });\n\n    useEffect(() => {\n\n        const handleResize = () => {\n            setWindowSize({\n                width: window.innerWidth,\n                height: window.innerHeight\n            });\n        }\n\n        handleResize();\n\n        window.addEventListener(\"resize\", handleResize);\n\n        return () => window.removeEventListener(\"resize\", handleResize);\n    }, [])\n\n    return windowSize;\n}\n\nexport default useWindowSize;\n","import { FaLaptop, FaTabletAlt, FaMobileAlt } from 'react-icons/fa';\nimport useWindowSize from './hooks/useWindowSize';\n\nconst Header = ({ title }) => {\n    const { width } = useWindowSize();\n\n    return (\n        <header className=\"Header\">\n            <h1>{title}</h1>\n            {width < 768 ? <FaMobileAlt />\n                : width < 992 ? <FaTabletAlt />\n                    : <FaLaptop />}\n        </header>\n    )\n}\n\nexport default Header\n","import { Link } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { useStoreState, useStoreActions } from 'easy-peasy';\n\nconst Nav = () => {\n    const posts = useStoreState((state) => state.posts);\n    const search = useStoreState((state) => state.search);\n    const setSearch = useStoreActions((actions) => actions.setSearch);\n    const setSearchResults = useStoreActions((actions) => actions.setSearchResults);\n\n    useEffect(() => {\n        const filteredResults = posts.filter((post) =>\n            ((post.body).toLowerCase()).includes(search.toLowerCase())\n            || ((post.title).toLowerCase()).includes(search.toLowerCase()));\n\n        setSearchResults(filteredResults.reverse());\n    }, [posts, search, setSearchResults])\n\n    return (\n        <nav className=\"Nav\">\n            <form className=\"searchForm\" onSubmit={(e) => e.preventDefault()}>\n                <label htmlFor=\"search\">Search Posts</label>\n                <input\n                    id=\"search\"\n                    type=\"text\"\n                    placeholder=\"Search Posts\"\n                    value={search}\n                    onChange={(e) => setSearch(e.target.value)}\n                />\n            </form>\n            <ul>\n                <li><Link to=\"/\">Home</Link></li>\n                <li><Link to=\"/post\">Post</Link></li>\n                <li><Link to=\"/about\">About</Link></li>\n            </ul>\n        </nav>\n    )\n}\n\nexport default Nav\n","import { useStoreState } from 'easy-peasy';\n\nconst Footer = () => {\n    const postCount = useStoreState((state) => state.postCount);\n    return (\n        <footer className='Footer'>\n            <p>{postCount} Blog Posts</p>\n        </footer>\n    )\n}\n\nexport default Footer\n","import { Link } from 'react-router-dom';\n\nconst Post = ({ post }) => {\n    return (\n        <article className=\"post\">\n            <Link to={`/post/${post.id}`}>\n                <h2>{post.title}</h2>\n                <p className=\"postDate\">{post.datetime}</p>\n            </Link>\n            <p className=\"postBody\">{\n                (post.body).length <= 25\n                    ? post.body\n                    : `${(post.body).slice(0, 25)}...`\n            }</p>\n        </article>\n    )\n}\n\nexport default Post\n","import Post from './Post';\n\nconst Feed = ({ posts }) => {\n    return (\n        <>\n            {posts.map(post => (\n                <Post key={post.id} post={post} />\n            ))}\n        </>\n    )\n}\n\nexport default Feed\n","import Feed from './Feed';\nimport { useStoreState } from 'easy-peasy';\n\nconst Home = ({ isLoading, fetchError }) => {\n    const searchResults = useStoreState((state) => state.searchResults);\n\n    return (\n        <main className=\"Home\">\n            {isLoading && <p className=\"statusMsg\">Loading posts...</p>}\n            {!isLoading && fetchError && <p className=\"statusMsg\" style={{ color: \"red\" }}>{fetchError}</p>}\n            {!isLoading && !fetchError && (searchResults.length ? <Feed posts={searchResults} /> : <p className=\"statusMsg\">No posts to display.</p>)}\n        </main>\n    )\n}\n\nexport default Home\n","import { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { useStoreState, useStoreActions } from \"easy-peasy\";\n\nconst NewPost = () => {\n  const history = useHistory();\n\n  const posts = useStoreState((state) => state.posts);\n  const postTitle = useStoreState((state) => state.postTitle);\n  const postBody = useStoreState((state) => state.postBody);\n\n  const savePost = useStoreActions((actions) => actions.savePost);\n  const setPostTitle = useStoreActions((actions) => actions.setPostTitle);\n  const setPostBody = useStoreActions((actions) => actions.setPostBody);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const id = posts.length ? posts[posts.length - 1].id + 1 : 1;\n    const datetime = format(new Date(), \"MMMM dd, yyyy pp\");\n    const newPost = { id, title: postTitle, datetime, body: postBody };\n    savePost(newPost);\n    history.push(\"/\");\n  };\n\n  return (\n    <main className=\"NewPost\">\n      <h2>New Post</h2>\n      <form className=\"newPostForm\" onSubmit={handleSubmit}>\n        <label htmlFor=\"postTitle\">Title:</label>\n        <input\n          id=\"postTitle\"\n          type=\"text\"\n          required\n          value={postTitle}\n          onChange={(e) => setPostTitle(e.target.value)}\n        />\n        <label htmlFor=\"postBody\">Post:</label>\n        <textarea\n          id=\"postBody\"\n          required\n          value={postBody}\n          onChange={(e) => setPostBody(e.target.value)}\n        />\n        <button type=\"submit\">Submit</button>\n      </form>\n    </main>\n  );\n};\n\nexport default NewPost;\n","import { useParams, Link, useHistory } from \"react-router-dom\";\nimport { useStoreState, useStoreActions } from 'easy-peasy';\n\nconst PostPage = () => {\n    const { id } = useParams();\n    const history = useHistory();\n    const deletePost = useStoreActions((actions) => actions.deletePost);\n    const getPostById = useStoreState((state) => state.getPostById);\n    const post = getPostById(id);\n\n    const handleDelete = (id) => {\n        deletePost(id);\n        history.push('/');\n    }\n\n    return (\n        <main className=\"PostPage\">\n            <article className=\"post\">\n                {post &&\n                    <>\n                        <h2>{post.title}</h2>\n                        <p className=\"postDate\">{post.datetime}</p>\n                        <p className=\"postBody\">{post.body}</p>\n                        <Link to={`/edit/${post.id}`}><button className=\"editButton\">Edit Post</button></Link>\n                        <button className=\"deleteButton\" onClick={() => handleDelete(post.id)}>\n                            Delete Post\n                        </button>\n                    </>\n                }\n                {!post &&\n                    <>\n                        <h2>Post Not Found</h2>\n                        <p>Well, that's disappointing.</p>\n                        <p>\n                            <Link to='/'>Visit Our Homepage</Link>\n                        </p>\n                    </>\n                }\n            </article>\n        </main>\n    )\n}\n\nexport default PostPage\n","import { useEffect } from \"react\";\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { useStoreState, useStoreActions } from \"easy-peasy\";\n\nconst EditPost = () => {\n  const history = useHistory();\n  const { id } = useParams();\n\n  const editTitle = useStoreState((state) => state.editTitle);\n  const editBody = useStoreState((state) => state.editBody);\n\n  const editPost = useStoreActions((actions) => actions.editPost);\n  const setEditTitle = useStoreActions((actions) => actions.setEditTitle);\n  const setEditBody = useStoreActions((actions) => actions.setEditBody);\n\n  // Below is a computed store value\n  const getPostById = useStoreState((state) => state.getPostById);\n  const post = getPostById(id);\n\n  useEffect(() => {\n    if (post) {\n      setEditTitle(post.title);\n      setEditBody(post.body);\n    }\n  }, [post, setEditTitle, setEditBody]);\n\n  const handleEdit = (id) => {\n    const datetime = format(new Date(), \"MMMM dd, yyyy pp\");\n    const updatedPost = { id, title: editTitle, datetime, body: editBody };\n    editPost(updatedPost);\n    history.push(`/post/${id}`);\n  };\n\n  return (\n    <main className=\"NewPost\">\n      {editTitle && (\n        <>\n          <h2>Edit Post</h2>\n          <form className=\"newPostForm\" onSubmit={(e) => e.preventDefault()}>\n            <label htmlFor=\"postTitle\">Title:</label>\n            <input\n              id=\"postTitle\"\n              type=\"text\"\n              required\n              value={editTitle}\n              onChange={(e) => setEditTitle(e.target.value)}\n            />\n            <label htmlFor=\"postBody\">Post:</label>\n            <textarea\n              id=\"postBody\"\n              required\n              value={editBody}\n              onChange={(e) => setEditBody(e.target.value)}\n            />\n            <button type=\"button\" onClick={() => handleEdit(post.id)}>\n              Submit\n            </button>\n          </form>\n        </>\n      )}\n      {!editTitle && (\n        <>\n          <h2>Post Not Found</h2>\n          <p>Well, that's disappointing.</p>\n          <p>\n            <Link to=\"/\">Visit Our Homepage</Link>\n          </p>\n        </>\n      )}\n    </main>\n  );\n};\n\nexport default EditPost;\n","const About = () => {\n    return (\n        <main className='About'>\n            <h2>About</h2>\n            <p style={{ marginTop: \"1rem\" }}>This blog app is a project in the Learn React tutorial series.</p>\n        </main>\n    )\n}\n\nexport default About\n","import { Link } from 'react-router-dom';\n\nconst Missing = () => {\n    return (\n        <main className='Missing'>\n            <h2>Page Not Found</h2>\n            <p>Well, that's disappointing.</p>\n            <p>\n                <Link to='/'>Visit Our Homepage</Link>\n            </p>\n        </main>\n    )\n}\n\nexport default Missing\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst useAxiosFetch = (dataUrl) => {\n    const [data, setData] = useState([]);\n    const [fetchError, setFetchError] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        let isMounted = true;\n        const source = axios.CancelToken.source();\n\n        const fetchData = async (url) => {\n            setIsLoading(true);\n            try {\n                const response = await axios.get(url, {\n                    cancelToken: source.token\n                });\n                if (isMounted) {\n                    setData(response.data);\n                    setFetchError(null);\n                }\n            } catch (err) {\n                if (isMounted) {\n                    setFetchError(err.message);\n                    setData([]);\n                }\n            } finally {\n                isMounted && setIsLoading(false);\n            }\n        }\n\n        fetchData(dataUrl);\n\n        const cleanUp = () => {\n            isMounted = false;\n            source.cancel();\n        }\n\n        return cleanUp;\n    }, [dataUrl]);\n\n    return { data, fetchError, isLoading };\n}\n\nexport default useAxiosFetch;","import Header from './Header';\nimport Nav from './Nav';\nimport Footer from './Footer';\nimport Home from './Home';\nimport NewPost from './NewPost';\nimport PostPage from './PostPage';\nimport EditPost from './EditPost';\nimport About from './About';\nimport Missing from './Missing';\nimport { Route, Switch } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport useAxiosFetch from './hooks/useAxiosFetch';\nimport { useStoreActions } from 'easy-peasy';\n\nfunction App() {\n  const setPosts = useStoreActions((actions) => actions.setPosts);\n\n  const { data, fetchError, isLoading } = useAxiosFetch('http://localhost:3500/posts');\n\n  useEffect(() => {\n    setPosts(data);\n  }, [data, setPosts])\n\n  return (\n    <div className=\"App\">\n      <Header title=\"React JS Blog\" />\n      <Nav />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home\n            isLoading={isLoading}\n            fetchError={fetchError}\n          />\n        </Route>\n        <Route exact path=\"/post\" component={NewPost} />\n        <Route path=\"/edit/:id\" component={EditPost} />\n        <Route path=\"/post/:id\" component={PostPage} />\n        <Route path=\"/about\" component={About} />\n        <Route path=\"*\" component={Missing} />\n      </Switch>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"http://localhost:3600\",\n});\n","import { createStore, action, thunk, computed } from \"easy-peasy\";\nimport api from \"./api/posts\";\n\nexport default createStore({\n  posts: [],\n  setPosts: action((state, payload) => {\n    state.posts = payload;\n  }),\n  postTitle: \"\",\n  setPostTitle: action((state, payload) => {\n    state.postTitle = payload;\n  }),\n  postBody: \"\",\n  setPostBody: action((state, payload) => {\n    state.postBody = payload;\n  }),\n  editTitle: \"\",\n  setEditTitle: action((state, payload) => {\n    state.editTitle = payload;\n  }),\n  editBody: \"\",\n  setEditBody: action((state, payload) => {\n    state.editBody = payload;\n  }),\n  search: \"\",\n  setSearch: action((state, payload) => {\n    state.search = payload;\n  }),\n  searchResults: [],\n  setSearchResults: action((state, payload) => {\n    state.searchResults = payload;\n  }),\n  postCount: computed((state) => state.posts.length),\n  // Below will return an anonymous function instead of value based on a given Id\n  getPostById: computed((state) => {\n    return (id) => state.posts.find((post) => post.id.toString() === id);\n  }),\n  savePost: thunk(async (actions, newPost, helpers) => {\n    const { posts } = helpers.getState();\n    try {\n      const response = await api.post(\"/posts\", newPost);\n      actions.setPosts([...posts, response.data]);\n      actions.setPostTitle(\"\");\n      actions.setPostBody(\"\");\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  }),\n  deletePost: thunk(async (actions, id, helpers) => {\n    const { posts } = helpers.getState();\n    try {\n      await api.delete(`/posts/${id}`);\n      actions.setPosts(posts.filter((post) => post.id !== id));\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  }),\n  editPost: thunk(async (actions, updatedPost, helpers) => {\n    const { posts } = helpers.getState();\n    const { id } = updatedPost;\n    try {\n      const response = await api.put(`/posts/${id}`, updatedPost);\n      actions.setPosts(\n        posts.map((post) => (post.id === id ? { ...response.data } : post))\n      );\n      actions.setEditTitle(\"\");\n      actions.setEditBody(\"\");\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n  }),\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { StoreProvider } from 'easy-peasy';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StoreProvider store={store}>\n      <Router>\n        <Route path=\"/\" component={App} />\n      </Router>\n    </StoreProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}